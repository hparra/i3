<html>
<head>
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
	<!-- iPhone OS --><meta name="viewport" content="user-scalable=no, width=device-width" />
	<!-- iPhone OS --><meta name="apple-mobile-web-app-capable" content="yes" />
	<!-- iPhone OS --><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
	<title>Calit2 i3</title>
	<style type="text/css" media="screen">
		.backdrop {
			position: absolute;
			top: 0px;
			left: 0px;
			width: 100%;
			height: 100%;
			background-repeat: no-repeat;
			background-attachment: fixed;
			overflow: hidden;
		}
		
		#content {
			background-position: bottom;
			background-color: black;
			background-image: url('http://marco.calit2.uci.edu/assets/i3/images/dock.png');
			background-repeat: repeat-x;
		}
		
		#topbanner {
			position: absolute;
			top: 0px;
			left: 0px;
		}
		
		#screen {
			background-position: bottom;
			background-color: white;
			background-image: url('http://marco.calit2.uci.edu/assets/i3/images/screensaverbgnont.png');
		}
		
		.demoscreen {
			top: 3000px;
			background-color: white;
			opacity: .85;
			-webkit-border-radius: 10px;
			-moz-border-radius: 10px;
		}
		
		#buttons{
			position: absolute;
			width: 276px;
			height: 138px;
			left: 50%;
			top: 100%;
			margin-left: -138px;
			margin-top: -138px;
		}
		
		.button {
			float: right;
			display: block;
			margin: 5px 5px 5px 5px;
			width: 128px;
			height: 128px;
		}
		
		#home:hover {
			background-color: white;
			-webkit-border-radius: 10px;
			-moz-border-radius: 10px;
		}
		
		#video:hover {
			background-color: white;
			-webkit-border-radius: 10px;
			-moz-border-radius: 10px;
		}
		
		.button IMG {
			height: 100%;
			width: 100%;
		}
		
		/* Carousel */
		
		#bbutton {
			display: block;
			float: left;
			width: 5%;
			height: 100%;
		}
		
		#blcarousel {
			display: block;
			float: left;
			width: 90%;
			height: 100%;
		}
		
		#nbutton {
			display: block;
			float: left;
			width: 5%;
			height: 100%;
		}
	</style>
	<style type="text/css" media="screen">
		/* Screensaver Stylesheets */
		#screen-left {
			display: block;
			float: left;
			width: 90%;
			height: 85%;
		}
		
		#sbbutton {
			display: block;
			float: left;
			width: 5%;
			height: 85%;
		}
		
		#snbutton {
			display: block;
			float: left;
			width: 5%;
			height: 85%;
		}
		
		#screen-bottom {
			position: absolute;
			top: 85%;
			width: 100%;
			height: 15%;
			margin: 0;
			padding: 0;
			overflow: hidden;
			text-align: center;
		}
		
		#rssreader {
			width: 100%;
			height: 100%;
			text-align: center;
		}
		
		/* Login */
		
		#login_div {
			position: absolute;
			top: 0px;
			left: 0px;
			width: 100%;
			height: 100%;
			z-index: 10;
			background: white url('http://picotto.calit2.uci.edu/~hparra/assets/images/bg.jpg') repeat-x fixed center top;
			display: block;
			overflow: hidden;
		}
		
		#login_box {
			position: absolute;
			margin: 0px;
			padding: 0px;
			left: 50%;
			top: 50%;
			margin-left: -300px;
			margin-top: -264.5px;
			/* variables */
			font-family: Arial;
			text-align: center;
		}

		#login_box input {
			text-align: center;
		}

		#login_box fieldset {
			margin: 40px;
			padding: 0px;
			border: 0px;
		}

		#login_box dd {
			margin: 0px;
			padding-bottom: 20px;
		}

		#login_box dt {
			float: left;
		}

		#login_box #login_button {
			text-decoration: none;
			text-align: center;
			padding: 10px;
		}
	</style>
	<style type="text/css" media="screen">
		/* Ramune CSS */
		#accept {
			background-color: green;
			-moz-border-radius: 10px;
			-webkit-border-radius: 10px;
		}
		
		#reject {
			background-color: red;
			-moz-border-radius: 10px;
			-webkit-border-radius: 10px;
		}
		
		#ramune {
			position: relative;
			top: 5%;
			left: 5%;
			width: 90%;
			height: 90%;
		}
		
		#settings {
			float: left;
			display: block;
			width: 15%;
			height: 100%;
			text-align: right;
		}
		
		#ramune_video {
			float: left;
			display: block;
			width: 70%;
			height: 100%;
			background-color: black;
			opacity: .95;
		}
		
		#close_call {
			float: left;
			display: block;
			width: 15%;
			height: 100%;
			text-align: left;
		}
		
	</style>
	<script type="text/javascript" src="http://marco.calit2.uci.edu/lib/jquery/jquery-1.3.2.js"></script>
	<script src="http://marco.calit2.uci.edu/H2O/src/js/H2O.js" type="text/javascript" charset="utf-8"></script>
	<script src="http://marco.calit2.uci.edu/H2O/src/js/H2O.Image.js" type="text/javascript" charset="utf-8"></script>
	<script src="http://marco.calit2.uci.edu/H2O/src/js/H2O.Button.js" type="text/javascript" charset="utf-8"></script>
	<script src="http://marco.calit2.uci.edu/H2O/src/js/H2O.Carousel.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/screensaver.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript" charset="utf-8">		
		// Ramune States
		// WAITING
		// CALLING
		// BUSY
		var ramuneState = "WAITING";
		var TIMER_DELAY = 15000;
		var rssNum = 10;
		
		function resize(w, h) {
			
			$('.demoscreen').css({
				position: 'absolute',
				width: .9 * w,
				height: (.95 * h) - 138,
				left: '50%',
				//top: '20px',
				marginLeft: -(.9 * w)/2,
				marginTop: 0,
				backgroundColor: 'white',
				opacity: .85
			});
			
			rssNum = Math.floor((h - 450) / 18);
		}
		
		function getHeight() {
			return document.body.clientHeight;
		}
		
		function getWidth() {
			return document.documentElement.clientWidth;
		}
		
		function login() {
			$('#login_div').hide('slow');
			timer = TIMER_DELAY; // in milliseconds
			killScreenSaver();
		}
		
		$(document).ready(function(){
			$('#screen').hide();
			//$('#content').hide();

			resize(getWidth(), getHeight());
			
			$(window).resize(function() {
				resize(getWidth(), getHeight());
			});
			
			users = {
				0: {
					imgsrc: 'http://marco.calit2.uci.edu/assets/i3/images/unknownbuddy.png'
				},
				1: {
					imgsrc: 'http://marco.calit2.uci.edu/assets/i3/images/unknownbuddy.png'
				}
			};
			
			calit2pics = {
				0: {
					imgsrc: 'http://marco.calit2.uci.edu/assets/i3/images/DSC_0001.jpg'
				},
				1: {
					imgsrc: 'http://marco.calit2.uci.edu/assets/i3/images/DSC_0002.jpg'
				},
				2: {
					imgsrc: 'http://marco.calit2.uci.edu/assets/i3/images/DSC_0003.jpg'
				},
				3: {
					imgsrc: 'http://marco.calit2.uci.edu/assets/i3/images/DSC_0004.jpg'
				},
				4: {
					imgsrc: 'http://marco.calit2.uci.edu/assets/i3/images/DSC_0005.jpg'
				},
				5: {
					imgsrc: 'http://marco.calit2.uci.edu/assets/i3/images/DSC_0006.jpg'
				},
				6: {
					imgsrc: 'http://marco.calit2.uci.edu/assets/i3/images/DSC_0008.jpg'
				},
			};
			
			mockup = {
				0: {
					imgsrc: 'http://marco.calit2.uci.edu/assets/i3/images/mockup1.png'
				},
				1: {
					imgsrc: 'http://marco.calit2.uci.edu/assets/i3/images/mockup2.png'
				},
				2: {
					imgsrc: 'http://marco.calit2.uci.edu/assets/i3/images/mockup3.png'
				}
			}
			
			/* Slideshow */
			calit2slideshow = H2O.Carousel({ ID: 'calit2slides', data: calit2pics, columnAmt: 1, rowAmt: 1, autoScroll: true , scrollDelay: 5000, animSpeed: 400 });
			$('#homescreen').append(calit2slideshow);
			
			/* Ramune */
			/* Close Button */
			rclose = H2O.Image({ ID: 'ram_close', src: 'http://marco.calit2.uci.edu/assets/i3/images/rclose.png', padding: 0 });
			$('#close_call').append(rclose);
			/* Settings Button */
			rsettings = H2O.Image({ ID: 'ram_settings', src: 'http://marco.calit2.uci.edu/assets/i3/images/rsettings.png', padding: 0 });
			$('#settings').append(rsettings);
			/* Video Panel */
			rvideo = H2O.Image({ ID: 'vid', src: 'http://marco.calit2.uci.edu/assets/i3/images/video.png', padding: 20 });
			$('#ramune_video').append(rvideo);
			
			/* Screensaver */
			slideshow = H2O.Carousel({ ID: 'mockup', columnAmt: 1, rowAmt: 1, animSpeed: 400, autoScroll: false });
			$('#screen-left').append(slideshow);
			/* Back Button */
			sback = H2O.Button({ ID: 'sback', type: 'back', click: 'slideshow.prevPage(1)'});
			$('#sbbutton').append(sback);
			/* Next Button */
			snext = H2O.Button({ ID: 'snext', type: 'next', click: 'slideshow.nextPage(1)'});
			$('#snbutton').append(snext);
			
			/* Widgets */
			slideshow.addToCarousel(document.getElementById('stockchart'));
			slideshow.addToCarousel(document.getElementById('rssreader'));
			slideshow.addToCarousel(document.getElementById('calit2map'));
			
			/* BuddyList */
			buddylist = H2O.Carousel({ ID: 'buddylist_carousel', data: users, columnAmt: 3, rowAmt: 1, autoScroll: false });
			$('#blcarousel').append(buddylist);
			/* Back Button */
			back = H2O.Button({ ID: 'back', type: 'back', click: 'buddylist.prevPage(1)'});
			$('#bbutton').append(back);
			/* Next Button */
			next = H2O.Button({ ID: 'next', type: 'next', click: 'buddylist.nextPage(1)'});
			$('#nbutton').append(next);
			$('#buddylist').hide();
			
			/* Home Button */
			shome = H2O.Image({ ID: 'shome', src: 'http://marco.calit2.uci.edu/assets/i3/images/shome.png', padding: 0 });
			$('#screen-bottom').append(shome);
			
			$('#home').click(function() {
				$('#videoscreen').animate({
					opacity: 0,
					top: 3000
				}, 500);
				$('#homescreen').show('fast');
				$('#homescreen').animate({
					opacity: .85,
					top: 20
				}, 500);
				
			});
			
			$('#video').click(function() {
				$('#homescreen').animate({
					opacity: 0,
					top: 3000
				}, 500);
				$('#videoscreen').show('fast');
				$('#videoscreen').animate({
					opacity: .85,
					top: 20
				}, 500);
				
			});
		
			$('#ram_close').click(function(){
				$('#homescreen').animate({
					opacity: 0,
					top: 3000
				}, 500);
				$('#ramune').hide();
				$('#buddylist').fadeIn();
				buddylist.resize();
				back.resize();
				next.resize();
			});
			
			$('#shome').click(function(){
				killScreenSaver();
			});
		});
		
		// Testing
		
		appendtest = {
			0: {
				imgsrc: 'http://marco.calit2.uci.edu/assets/i3/images/unknownbuddy.png'
			}
		};
		
		// Screen Saver
	    //$('#screen').hide();
		
		function sCallBack(){
			slideshow.resize();
			shome.resize();
			sback.resize();
			snext.resize();
		}
	</script>
</head>

<body>
	<!-- Login Screen -->
	<div id="login_div">
		<div id="login_box">
			<img id="TeliosLogo" name="TeliosLogo" src="http://telios.calit2.uci.edu/images/teliosbanner.png" />
			<form id="items" action="javascript:login()">
				<fieldset>
					<dl>
						<dd>
							<input id="login" type="text" value="Name" name="login" style="font-size: 30px; height: 40px;" />
						</dd>
						<dd>
							<input id="password" type="password" value="Passphrase" name="password" style="font-size: 30px; height: 40px;" />
						</dd>
						<dd>
							<input type="submit" value="Login" name="button" style="font-size: 30px; height: 40px;" />
						</dd>
					</dl>
				</fieldset>
			</form>
		</div>
	</div>
	
	<!-- Main Screen -->
	<div id="content" class="backdrop">
		<img id="topbanner" src="http://marco.calit2.uci.edu/assets/i3/images/screensaverbg.png" />
		<div id="homescreen" class="demoscreen"></div>
		<div id="videoscreen" class="demoscreen">
			<div id="ramune">
				<div id="settings"></div>
				<div id="ramune_video"></div>
				<div id="close_call"></div>
			</div>
			<div id="buddylist">
				<div id="bbutton"></div>
				<div id="blcarousel"></div>
				<div id="nbutton"></div>
				<a href="#" onclick="buddylist.addToCarousel(appendtest[0])">Add Buddy</a>
			</div>
		</div>
		<!-- Navigation Buttons -->
		<div id="buttons">
			<div class="button" id="video"><img src="http://marco.calit2.uci.edu/assets/i3/images/video.png" /></div>
			<div class="button" id="home"><img src="http://marco.calit2.uci.edu/assets/i3/images/home.png" /></div>
		</div>
	</div>
	
	<!-- Screensaver Screen -->
	<div id="screen" class="backdrop">
		<div id="sbbutton"></div>
		<div id="screen-left"></div>
		<div id="snbutton"></div>
		<div id="screen-bottom"></div>
		<!-- ScreenSaver Widgets -->
		<div id="stockchart">
			<script src="http://charts.wikinvest.com/wikinvest/wikichart/javascript/scripts.php" type="text/javascript"></script>
			<div id="wikichartContainer_22BDD915-AF7D-9B08-554D-EE0D0C98C92B">
				<div style="width: 100%; text-align: center; vertical-align: center; margin-top: 100px;">
					<a href="http://get.adobe.com/flashplayer/">
						<img src="http://cdn.wikinvest.com/wikinvest/images/adobe_flash_logo.gif" alt="Flash" style="border-width: 0px;"/>
						<br/>Flash Player 9 or higher is required to view the chart<br/><strong>Click here to download Flash Player now</strong>
					</a>
				</div>
			</div>
			<script type="text/javascript">
				if (typeof(embedWikichart) != "undefined") {embedWikichart("http://charts.wikinvest.com/WikiChartMini.swf","wikichartContainer_22BDD915-AF7D-9B08-554D-EE0D0C98C92B","100%","400",{"showAnnotations":"true","endDate":"05-08-2009","ticker":"GOOG","liveQuote":"true","startDate":"05-02-2009"});}
			</script>
			<div style="font-size:9px;text-align:right;width:100%;font-family:Verdana">
				<a href="http://www.wikinvest.com/chart/GOOG" style="text-decoration:underline; color:#0000ee;">View the full NASDAQ:GOOG chart</a> at <a href="http://www.wikinvest.com/">Wikinvest</a>
			</div>
		</div>
		<div id="rssreader">
			<script type="text/javascript" src="http://cdn.widgetserver.com/syndication/subscriber/InsertWidget.js"></script>
			<script>if (WIDGETBOX) WIDGETBOX.renderWidget('f049a8cb-be45-48f5-b030-9c8689d7d6da');</script>
		</div>
		<div id="calit2map" class="carouselItem">
			<embed src='http://www.calit2.uci.edu/VirtualTour_1.swf' wmode="opaque" quality="high" pluginspage="http://www.macromedia.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash" type="application/x-shockwave-flash" width="100%" height="100%"></embed>
		</div>
	</div>
	
	<!-- Ramune Modals -->
	<div id="incoming" style="display: none">
		<p>Call From:</p>
		<img src="https://armin.calit2.uci.edu/assets/luoa/icons/coolfuzz/6.png" />
		<div id="accept">Accept</div>
		<div id="reject">Reject</div>
	</div>
</body>
</html>