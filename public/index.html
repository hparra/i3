<html>
<head>
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
	<meta name="viewport" content="user-scalable=no, width=device-width" />
	<!-- iPhone OS --><meta name="apple-mobile-web-app-capable" content="yes" />
	<!-- iPhone OS --><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
	<title>Calit2 i3</title>
	<link rel="stylesheet" href="stylesheets/main.css" type="text/css" media="screen" title="no title" charset="utf-8">
	<link rel="stylesheet" href="stylesheets/login.css" type="text/css" media="screen" title="no title" charset="utf-8">
	<link rel="stylesheet" href="stylesheets/navigation.css" type="text/css" media="screen" title="no title" charset="utf-8">
	<link rel="stylesheet" href="stylesheets/screensaver.css" type="text/css" media="screen" title="no title" charset="utf-8">
	<link rel="stylesheet" href="stylesheets/ramune.css" type="text/css" media="screen" title="no title" charset="utf-8">

	<script type="text/javascript" src="http://marco.calit2.uci.edu/lib/jquery/jquery-1.3.2.js"></script>
	<script src="http://marco.calit2.uci.edu/H2O/src/js/H2O.js" type="text/javascript" charset="utf-8"></script>
	<script src="http://marco.calit2.uci.edu/H2O/src/js/H2O.Image.js" type="text/javascript" charset="utf-8"></script>
	<script src="http://marco.calit2.uci.edu/H2O/src/js/H2O.Button.js" type="text/javascript" charset="utf-8"></script>
	<script src="http://marco.calit2.uci.edu/H2O/src/js/H2O.Carousel.js" type="text/javascript" charset="utf-8"></script>
	
	<script src="js/screensaver.js" type="text/javascript" charset="utf-8"></script>	
	<script src="js/i3.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/i3.login.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/i3.screensaver.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/i3.main.js" type="text/javascript" charset="utf-8"></script>
	
	<script type="text/javascript" charset="utf-8">		
		//var ramuneState = "WAITING";
		var TIMER_DELAY = 10000;
		
		function resize(w, h) {
			
			$('.demoscreen').css({
				position: 'absolute',
				width: .9 * w,
				height: (.95 * h) - 138,
				left: '50%',
				//top: '20px',
				marginLeft: -(.9 * w)/2,
				marginTop: 0,
				backgroundColor: 'white',
				opacity: .85
			});	
		}
		
		function getHeight() {
			return document.body.clientHeight;
		}
		
		function getWidth() {
			return document.documentElement.clientWidth;
		}
		
		function login() {
			//$('#LOGIN').hide('slow');
			timer = TIMER_DELAY; // in milliseconds
			killScreenSaver();
			
			i3.StateManager.changeState('content');
		}
		
		$(document).ready(function(){
			i3.StateManager.states['LOGIN'].build();
			i3.StateManager.states['content'].build();;
			i3.StateManager.states['screen'].build();
			$('#screen').hide();
			$('#content').hide();
			
			i3.StateManager.changeState('LOGIN');
			
			resize(getWidth(), getHeight());
			
			$(window).resize(function() {
				resize(getWidth(), getHeight());
				i3.StateManager.states['content'].resize();
				i3.StateManager.states['screen'].resize();
			});
		});
		
		// Testing
		
		appendtest = {
			0: {
				imgsrc: 'http://marco.calit2.uci.edu/assets/i3/images/unknownbuddy.png'
			}
		};
	</script>
</head>

<body>
	<!-- Login Screen -->
	<div id="LOGIN"></div>
	
	<!-- Main Screen -->
	<div id="content" class="backdrop">
		<img id="topbanner" src="http://marco.calit2.uci.edu/assets/i3/images/screensaverbg.png" />
		<!--Widgets-->
		<div id="stockapp" class="demoscreen">
			<div id="stockchart">
				<script src="http://charts.wikinvest.com/wikinvest/wikichart/javascript/scripts.php" type="text/javascript"></script>
				<div id="wikichartContainer_22BDD915-AF7D-9B08-554D-EE0D0C98C92B">
					<div style="width: 100%; text-align: center; vertical-align: center; margin-top: 100px;">
						<a href="http://get.adobe.com/flashplayer/">
							<img src="http://cdn.wikinvest.com/wikinvest/images/adobe_flash_logo.gif" alt="Flash" style="border-width: 0px;"/>
							<br/>Flash Player 9 or higher is required to view the chart<br/><strong>Click here to download Flash Player now</strong>
						</a>
					</div>
				</div>
				<script type="text/javascript">
					if (typeof(embedWikichart) != "undefined") {embedWikichart("http://charts.wikinvest.com/WikiChartMini.swf","wikichartContainer_22BDD915-AF7D-9B08-554D-EE0D0C98C92B","100%","90%",{"showAnnotations":"true","endDate":"05-08-2009","ticker":"GOOG","liveQuote":"true","startDate":"05-02-2009"});}
				</script>
				<div style="font-size:9px;text-align:right;width:100%;font-family:Verdana">
					<a href="http://www.wikinvest.com/chart/GOOG" style="text-decoration:underline; color:#0000ee;">View the full NASDAQ:GOOG chart</a> at <a href="http://www.wikinvest.com/">Wikinvest</a>
				</div>
			</div>
		</div>
		<!-- <div id="calit2map">
			<embed src='http://www.calit2.uci.edu/VirtualTour_1.swf' wmode="opaque" quality="high" pluginspage="http://www.macromedia.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash" type="application/x-shockwave-flash" width="100%" height="100%"></embed>
		</div> -->
		<div id="rssapp" class="demoscreen">
			<!-- ++Begin Dynamic Feed Wizard Generated Code++ -->
			  <!--
			  // Created with a Google AJAX Search and Feed Wizard
			  // http://code.google.com/apis/ajaxsearch/wizards.html
			  -->

			  <!--
			  // The Following div element will end up holding the actual feed control.
			  // You can place this anywhere on your page.
			  -->
			  <div id="feed-control">
			    <span style="color:#676767;font-size:11px;margin:10px;padding:4px;">Loading...</span>
			  </div>

			  <!-- Google Ajax Api
			  -->
			  <script src="http://www.google.com/jsapi?key=notsupplied-wizard"
			    type="text/javascript"></script>

			  <!-- Dynamic Feed Control and Stylesheet -->
			  <script src="http://www.google.com/uds/solutions/dynamicfeed/gfdynamicfeedcontrol.js"
			    type="text/javascript"></script>
			  <style type="text/css">
			    @import url("http://www.google.com/uds/solutions/dynamicfeed/gfdynamicfeedcontrol.css");
			  </style>

			  <script type="text/javascript">
			    function LoadDynamicFeedControl() {
			      var feeds = [];
			      var options = {
			        stacked : false,
			        horizontal : false,
			        title : ""
			      }

			      new GFdynamicFeedControl(feeds, 'feed-control', options);
			    }
			    // Load the feeds API and set the onload callback.
			    google.load('feeds', '1');
			    google.setOnLoadCallback(LoadDynamicFeedControl);
			  </script>
			<!-- ++End Dynamic Feed Control Wizard Generated Code++ -->
		</div>
		<div id="videoscreen" class="demoscreen">
			<div id="ramune">
				<div id="settings"></div>
				<div id="ramune_video"></div>
				<div id="close_call"></div>
			</div>
			<div id="buddylist">
				<div id="bbutton"></div>
				<div id="blcarousel"></div>
				<div id="nbutton"></div>
				<a href="#" onclick="buddylist.addToCarousel(appendtest[0])">Add Buddy</a>
			</div>
		</div>
		<!-- Navigation Buttons -->
		<div id="buttons">
			<div class="button" id="video"><img src="http://marco.calit2.uci.edu/assets/i3/images/video.png" /></div>
			<div class="button" id="stock"><img src="http://marco.calit2.uci.edu/assets/i3/images/home.png" /></div>
			<div class="button" id="rss"><img src="http://marco.calit2.uci.edu/assets/i3/images/home.png" /></div>
		</div>
	</div>
	
	<!-- Screensaver Screen -->
	<div id="screen" class="backdrop">
		<div id="screen-left"></div>
	</div>
	
	<!-- Ramune Modals -->
	<div id="incoming" style="display: none">
		<p>Call From:</p>
		<img src="https://armin.calit2.uci.edu/assets/luoa/icons/coolfuzz/6.png" />
		<div id="accept">Accept</div>
		<div id="reject">Reject</div>
	</div>
</body>
</html>